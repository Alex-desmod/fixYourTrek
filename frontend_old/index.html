<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Track Editor</title>

    <link rel="stylesheet" href="libs/leaflet.css">
    <link rel="stylesheet" href="static/css/style.css">

    <script src="libs/leaflet.js"></script>
    <script src="libs/leaflet.geometryutil.js"></script>
</head>

<body>

<!-- Top menu -->
<div id="top-menu">
    <div class="menu-item" data-menu="file">
        <button class="top-menu-btn">File</button>
        <div class="submenu">
            <button class="submenu-btn" data-action="open">Open…</button>
            <button class="submenu-btn" data-action="export">Export…</button>
        </div>
    </div>
    <div class="menu-item" data-menu="edit">
        <button class="top-menu-btn">Edit</button>
        <div class="submenu">
            <button class="submenu-btn" data-action="undo">Undo</button>
            <button class="submenu-btn" data-action="redo">Redo</button>
            <button class="submenu-btn" data-action="reset">Reset</button>
        </div>
    </div>


    <!-- Invisible input -->
    <input type="file" id="file-input" accept=".gpx,.tcx,.fit" style="display:none">
</div>

<!-- Sidebar -->
<div id="sidebar">
    <button id="btn-edit-tool" class="tool-btn" title="Insert a point and edit the track">✏️</button>
</div>

<!-- Context menu on right click -->
<div id="marker-context-menu" class="context-menu hidden">
    <button data-action="edit-time">Change timestamp</button>

    <div class="radius-control">
        <label>
            Influence radius (m)
            <input type="range" min="20" max="1000" step="10">
        </label>
        <span class="radius-value">50</span>
    </div>

    <div class="time-editor hidden">
        <label>
            Time (HH:MM:SS)
            <input type="time" step="1">
        </label>
        <button data-action="apply-time">Apply</button>
    </div>
</div>




<!-- Map -->
<div id="map"></div>

<script type="module" src="js/app.js"></script>
</body>
</html>
